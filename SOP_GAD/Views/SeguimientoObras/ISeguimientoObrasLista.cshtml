@model SOP_GAD.Models.ObrasPublicas


@{
    ViewBag.Title = "Seguimiento de la Obra";
}
<link href="~/Assets/CSS/Tablas.css" rel="stylesheet" type="text/css">
<ol class="breadcrumb">
    <li><a href="~/ObrasPublicas/IObrasPublicas"><i class="fa fa-hand-o-left" aria-hidden="true"></i>  Atrás</a></li>
    <li class="active">@(Model.IdObraPublica > 0 ? Model.ObjetoProcesoObra : "No Existe Infromación ")</li>

    <label class="submenu_content" style=" left: 70%; position:absolute;">
        <ul class="nav">
            <li>
                @if (ViewBag.ActaCalificacionID == 0)
                {
                <a>Agregar Documentación</a>
                }

                <ul>
                    @if (ViewBag.CertificadoID == 0)
                    {
                        <li><a>@Html.ActionLink(" Certificación Presupuestaria", "ICertificadoPresupuestoIngreso", "CertificadoPresupuesto", new { id = 0, obraId = @ViewBag.ActaObraID }, null)</a></li>
                    }
                    @if (ViewBag.CertificadoID != 0 && ViewBag.ResolucionID == 0)
                    {
                        <li><a>@Html.ActionLink(" Resolucion Inicio", "IResolucionInicioIngreso", "ResolucionInicio", new { id = 0, obraId = @ViewBag.ActaObraID }, null)</a></li>
                    }
                    @if (ViewBag.ResolucionID != 0 && ViewBag.ActaAclaracionID == 0)
                    {
                        <li><a>@Html.ActionLink(" Acta de Aclaraciones", "IInformeAclaracionIngreso", "InformeAclaraciones", new { id = 0, obraId = @ViewBag.ActaObraID }, null)</a></li>
                    }

                    @if (ViewBag.ActaAclaracionID != 0 && ViewBag.ActaAperturaID == 0)
                    {
                        <li><a>@Html.ActionLink(" Acta de Apertura", "IActaAperturaIngreso", "ActaApertura", new { id = 0, obraId = @ViewBag.ActaObraID }, null)</a></li>
                    }
                    @if (ViewBag.ActaAperturaID != 0 && ViewBag.ActaCalificacionID == 0)
                    {
                        <li><a>@Html.ActionLink("Acta de Calificación", "IActaCalificacionIngreso", "ActaCalificacion", new { id = 0, obraId = @ViewBag.ActaObraID }, null)</a></li>
                    }

                </ul>
            </li>
        </ul>
    </label>


</ol>

<style type="text/css">
    ul, ol {
        list-style: none;
    }
   .nav li a:hover {
        background-color: #f5f5f5; 
    }

    .nav li ul {
        display: none;
        position: absolute;
    }

    .nav li:hover > ul {
        background-color: #f5f5f5; 
        display: block;
    }

    .nav li ul li {
        position: relative;
        width: 190px;
        right: 30px;
    }

    .nav li ul li ul {
            right: -80px;
            top: 0px;
        }
</style>


@if (Model.IdObraPublica > 0)
{
    <h2 class="headertekst">Documentos Realizados de la Obra</h2>
    //----------------------------------------------------------
    if (ViewBag.CertificadoID > 0)
    {
        <div>
            <table id="mitabla" class="Centrar_content">
                <caption>Certificación Presupuestaría</caption>
                <thead>
                    <tr>
                        <th>Número</th>
                        <th>Partida Presupuestaria</th>
                        <th>Descripción</th>
                        <th>Valor Referencial</th>
                        <th>Obra Pública</th>
                        <th colspan="2">Opciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>@ViewBag.CertificadoONum</td>
                        <td>@ViewBag.CertificadoOPar</td>
                        <td>@ViewBag.CertificadoODes</td>
                        <td>@ViewBag.CertificadoOValor</td>
                        <td>@ViewBag.CertificadoObra</td>
                        <td>@Html.ActionLink("Mod", "ICertificadoPresupuestoIngreso", "CertificadoPresupuesto", new { id = @ViewBag.CertificadoID, obraId = @ViewBag.ActaObraID }, null)</td>
                        <td>@Html.ActionLink("Pdf", "CertificacionPresupuestariaPdf", "CertificadoPresupuesto", new { id = @ViewBag.ActaObraID }, null)</td>
                     </tr>
                </tbody>
            </table>
        </div>

        //--------------------------------------------------------
        if (ViewBag.ResolucionID > 0)
        {
            <div>
                <table id="mitabla" class="Centrar_content">
                    <caption>Resolución Inicial</caption>
                    <thead>
                        <tr>
                            <th>Número de Resolución Administrativa</th>
                            <th>Nombre del Analista</th>
                            <th>Obra Pública</th>
                            <th colspan="2">Opciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>@ViewBag.ResolucionONumR</td>
                            <td>@ViewBag.ResolucionONomA</td>
                            <td>@ViewBag.ResolucionObraP</td>
                            <td>@Html.ActionLink("Mod", "IResolucionInicioIngreso", "ResolucionInicio", new { id = @ViewBag.ResolucionID, obraId = @ViewBag.ActaObraID }, null)</td>
                            <td>@Html.ActionLink("Pdf", "ResolucionDeInicio", "ResolucionInicio", new { id = @ViewBag.ActaObraID }, null)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        }
        //--------------------------------------------------------

        if (ViewBag.ActaAclaracionID > 0)
        {
            <div>
                <table id="mitabla" class="Centrar_content">
                    <caption>Acta de Aclaración</caption>
                    <thead>
                        <tr>
                            <th>Número de Acta de Aclaración</th>
                            <th>Lugar</th>
                            <th>Fecha</th>
                            <th>Hora</th>
                            <th>Obra Pública</th>
                            <th colspan="3">Opciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>@ViewBag.InformeNumI</td>
                            <td>@ViewBag.InformeLugar</td>
                            <td>@ViewBag.InformeFecha</td>
                            <td>@ViewBag.InformeHora</td>
                            <td>@ViewBag.InformeObra</td>
                            <td>@Html.ActionLink("Mod", "IInformeAclaracionIngreso", "InformeAclaraciones", new { id = @ViewBag.ActaAclaracionID, obraId = @ViewBag.ActaObraID }, null)</td>
                            <td>@Html.ActionLink("Preguntas", "IPreguntasRespuestasLista", "PreguntaRespuesta", new { id = @ViewBag.ActaAclaracionID, Estado = 0 }, null)</td>
                            <td>@Html.ActionLink("Pdf", "ActaDeAclaraciones", "InformeAclaraciones", new { id = @ViewBag.ActaObraID }, null)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        }

        if (ViewBag.ActaAperturaID > 0)
        {
            <div>
                <table id="mitabla" class="Centrar_content">
                    <caption>Acta de Apertura</caption>
                    <thead>
                        <tr>
                            <th>Número de Ofertantes</th>
                            <th>Fecha de Emisión</th>
                            <th>Hora</th>
                            <th>Obra </th>
                            <th colspan="3">Opciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>@ViewBag.AperturaNumOfer</td>
                            <td>@ViewBag.AperturaFecha</td>
                            <td>@ViewBag.AperturaHora</td>
                            <td>@ViewBag.ActaObra</td>
                            <td>@Html.ActionLink("Mod", "IActaAperturaIngreso", "ActaApertura", new { id = @ViewBag.ActaAperturaID, obraId = @ViewBag.ActaObraID }, null)</td>
                            <td>@Html.ActionLink("Ofertantes", "IOfertantesLista", "Ofertantes", new { id = @ViewBag.ActaAperturaID}, null)</td>
                            <td>@Html.ActionLink("Pdf", "ActaDeApertura", "ActaApertura", new { id = @ViewBag.ActaObraID }, null)</td>
                        </tr>
                    </tbody>
                </table>
            </div>


        }

        if (ViewBag.ActaCalificacionID > 0)
        {
            <div>
                <table id="mitabla" class="Centrar_content">
                    <caption>Acta de Calificación</caption>
                    <thead>
                        <tr>
                            <th>Ofertante</th>
                            <th>Hora</th>
                            <th>Fecha de Emisión</th>
                            <th>Obra </th>
                            <th colspan="3">Opciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>@ViewBag.CalificacionOferante</td>
                            <td>@ViewBag.CalificacionHora</td>
                            <td>@ViewBag.CalificacionFecha</td>
                            <td>@ViewBag.CalificacionObra</td>
                            <td>@Html.ActionLink("Mod", "IActaCalificacionIngreso", "ActaCalificacion", new { id = @ViewBag.ActaCalificacionID, obraId = @ViewBag.ActaObraID }, null)</td>
                            <td>@Html.ActionLink("Ofertas", "IOfertantesCalificacion", "Ofertantes", new { id = @ViewBag.ActaCalificacionID, obraId = @ViewBag.ActaObraID }, null)</td>
                            <td>@Html.ActionLink("Pdf", "ActaDeCalificacion", "ActaCalificacion", new { id = @ViewBag.ActaObraID }, null)</td>
                        </tr>
                    </tbody>
                </table>
            </div>


        }
    }
    else
    {
        <h2 class="headertekst">No existe documentación de la Obra</h2>
    }
}


